<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>LEAPDAO</title>
  <link href="https://fonts.googleapis.com/css?family=Chivo:400,900" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;

      box-sizing: border-box;
    }

    html {
      font-size: 10px;
    }

    html,
    body {
      font-family: 'Chivo', Helvetica, Arial, sans-serif;
      background: #FFF;
      color: #000;
    }

    *::selection {
      color: #FFF;
      background: rgba(0, 0, 0, .99);

    }

    a {
      color: #00f;
    }

    h1 {
      font-weight: 900;
      font-size: 10rem;
      letter-spacing: 1rem;
    }

    p {
      font-size: 3.5rem;
      line-height: 5rem;
      margin-top: 6rem;

    }

    h1,
    p {

      position: relative;
      z-index: 10;
    }

    p a {
      color: inherit;
      text-decoration: none;
      border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    }

    p a:hover {
      border-bottom-color: rgba(0, 0, 0, 0.4);
    }

    .page {
      max-width: 110rem;
      padding: calc(45vh - 10rem) 5rem 40rem 10rem;
    }

    .links {
      font-size: 2.5rem;
      margin-top: 6rem;

      display: flex;
      list-style: none;
    }

    .links li::after {
      margin: 0 10px;
      content: '\2022';
    }

    .links li:last-child::after {
      display: none;
    }


    @media screen and (max-width: 900px) {
      .page {
        padding-left: 3rem;
        padding-right: 3rem;
        padding-top: calc(20vh - 6rem);
        padding-bottom: 10rem;
      }

      h1 {
        font-size: 4rem;
      }

      p {
        font-size: 2rem;
        line-height: 3rem;
        margin-top: 3rem;
      }

      .links {
        font-size: 1.6rem;
        margin-top: 3rem;
      }
    }

    /*---------*/

    body {
      margin: 0;
      background-color: #FFF;
      -webkit-user-select: none;
    }

    circle {
      /* transition: fill 1s, r 1s, cx 1s, cy 1s; */
    }

    path {
      transition: opacity 1s;
    }

    svg {
      position: absolute;
      top: calc(50vh - 10rem);
      left: 20rem;
      transform: scale(2);
    }
  </style>
</head>

<body>
  <div class="page">
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="230" height="245" id="amoebe">
      <defs>
        <filter id="goo">
          <feGaussianBlur in="SourceGraphic" stdDeviation="18" result="blur" />
          <feColorMatrix in="blur" mode="matrix" result="mat" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 50 -19" />
        </filter>
      </defs>

      <g filter="url(#goo)">
        <path id="check" d="M30,70 L100,140 L200,40" fill="none" stroke-width="40" stroke="#cf0" />
        <circle cx="0" cy="0" r="30" />
        <circle cx="0" cy="0" r="30" />
        <circle cx="0" cy="0" r="30" />
        <circle cx="0" cy="0" r="30" />
        <circle cx="0" cy="0" r="30" />
      </g>
    </svg>
    <h1><span style="opacity: 0;">üê∏</span><br />LEAPDAO</h1>
    <p>Ethereum‚Äôs capacity is limited*. We exist to&nbsp;create and maintain an public good Plasma&nbsp;chain to scale
      Ethereum on&nbsp;layer&nbsp;2.</p>
    <p>We are a Decentralized Adaptive Organization (DAO). We&nbsp;combine Holacracy and Decentralized Organizations
      (DO) to&nbsp;build a global, self-managing and purpose-driven community. We&nbsp;reward contribution using <a
        href="#" target="_blank">taconomy</a> and&nbsp;bounties.</p>
    <p>We develop Plasma Leap, a scaling technology allowing Dapps to&nbsp;run on a&nbsp;sidechain but stay secured by
      Ethereum PoW. We&nbsp;launch and operate a&nbsp;Plasma Leap chain to deliver Ethereum scalability as
      a&nbsp;global public utility.</p>
    <ul class="links">
      <li>
        <a href="https://docs.google.com/document/d/1vStTjqvqZGyiI5AVtpwCIMlHFnzC_4bbixsCfs27-M8/edit" target="_blank">Read</a>
      </li>
      <li>
        <a href="https://twitter.com/leapdao" target="_blank">Follow</a>
      </li>
      <li>
        <a href="mailto:mail@leapdao.org" target="_blank">Contact</a>
      </li>
      <li>
        <a href="http://join.leapdao.org" target="_blank">Join</a>
      </li>
      <li>
        <a href="https://github.com/leapdao" target="_blank">Contribute</a>
      </li>
    </ul>
    </p>
  </div>

  <script>
    var circles_blob = [
      { color: [0, 255, 255], radius: 40, x: 171, y: 160, dir: 1 },
      { color: [255, 255, 0], radius: 70, x: 96, y: 130, dir: 1 },
      { color: [255, 255, 0], radius: 50, x: 116, y: 70, dir: -1 },
      { color: [0, 255, 255], radius: 60, x: 126, y: 160, dir: 1 },
      { color: [0, 255, 255], radius: 30, x: 156, y: 120, dir: -1 },
    ];

    var circles_mark = [
      { color: [255, 255, 0], radius: 17, x: 46, y: 95, dir: 1 },
      { color: [0, 255, 125], radius: 18, x: 101, y: 140, dir: 1 },
      { color: [0, 255, 125], radius: 17, x: 126, y: 120, dir: -1 },
      { color: [255, 255, 0], radius: 15, x: 161, y: 85, dir: 1 },
      { color: [255, 255, 0], radius: 14, x: 191, y: 50, dir: -1 },
    ];

    var mode = 'blob';

    var initialCircles = mode === 'blob' ? circles_blob : circles_mark;
    var circles = initialCircles.map((circle) => Object.assign({}, circle));

    var svgCircles = Array.from(document.querySelectorAll('circle'));
    var check = document.getElementById('check');
    var svgRoot = document.getElementById('amoebe');
    // var canvas = document.getElementById('graph');
    // var context = canvas.getContext('2d');

    onCirclesResize();
    function onCirclesResize() {
      var newCircles = mode === 'blob' ? circles_blob : circles_mark;
      circles.forEach((circle, i) => {
        transition(circle, newCircles[i], ['x', 'y', 'radius', 'color'], 300);
      });

      check.style.opacity = mode === 'mark' ? 1 : 0;
    }

    function draw(t) {
      // canvas.width = 230;
      // canvas.height = 245;
      var circlesPositions = [];
      circles.forEach((circle, i) => {
        var svgCircle = svgCircles[i];
        var x = Math.cos(t / 30 / circle.radius) * circle.radius * circle.dir / 3;
        var y = Math.sin(t / 33 / circle.radius) * circle.radius * circle.dir / 3;
        svgCircle.setAttribute('cx', circle.x);
        svgCircle.setAttribute('cy', circle.y);
        svgCircle.setAttribute('r', circle.radius);
        svgCircle.setAttribute('transform', `translate(${x} ${y})`);
        svgCircle.setAttribute('fill', `rgb(${circle.color.map(Math.round).join(',')})`);

        // context.fillStyle = '#FFF';
        // context.beginPath();
        // context.arc(
        //   circle.x + x,
        //   circle.y + y,
        //   3,
        //   0,
        //   2 * Math.PI,
        // );
        // circlesPositions.push({ x: circle.x + x, y: circle.y + y });
        // context.fill();
        // context.fillStyle = '#000';
        // context.fillText(i, circle.x + x, circle.y + y);
      });

      // context.strokeStyle = 'rgba(255, 255, 255, 1)';
      // lines.forEach(([a, b]) => {
      //   context.beginPath();
      //   context.moveTo(circlesPositions[a].x, circlesPositions[a].y);
      //   context.lineTo(circlesPositions[b].x, circlesPositions[b].y);
      //   context.stroke();
      // });
    }

    setInterval(() => requestAnimationFrame(draw), 1000 / 30);
    draw(Date.now());

    canvas.addEventListener('click', () => {
      mode = mode === 'mark' ? 'blob' : 'mark';
      onCirclesResize();
    });


    function interpolateNumber(start, to, percent) {
      return start + (to - start) * percent;
    }

    function interpolateArray(start, to, percent) {
      return start.map((start_i, i) => interpolateNumber(start_i, to[i], percent));
    }

    function interpolateValue(start, to, percent) {
      if (Array.isArray(start)) {
        return interpolateArray(start, to, percent);
      } else if (typeof start === 'number') {
        return interpolateNumber(start, to, percent);
      }

      return start;
    }

    function transition(from, to, props, duration) {
      transition.stoppers = transition.stoppers || new WeakMap();

      if (transition.stoppers.has(from)) {
        transition.stoppers.get(from)();
      }

      const startProps = props.reduce((scale, key) => Object.assign(scale, {
        [key]: from[key],
      }), {});

      Object.keys(to).forEach((key) => {
        if (props.indexOf(key) === -1) {
          from[key] = to[key];
        }
      });

      let done = false;
      transition.stoppers.set(from, () => {
        done = true;
      });

      const start = Date.now();
      const updater = (t) => {
        const spent = Date.now() - start;
        const percent = spent / duration;

        if (percent >= 1) {
          done = true;
          props.forEach((key) => {
            from[key] = to[key];
          });
        } else {
          props.forEach((key) => {
            from[key] = interpolateValue(startProps[key], to[key], percent);
          });
        }

        if (!done) {
          requestAnimationFrame(updater);
        }
      };

      requestAnimationFrame(updater);
    };
  </script>
</body>

</html>